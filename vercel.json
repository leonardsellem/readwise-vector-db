{
  "buildCommand": "./vercel_build.sh",
  "installCommand": "echo 'Skipping default install, using custom build script'",
  "outputDirectory": ".",
  "framework": null,
  "functions": {
    "api/index.py": {
      "runtime": "python3.12",
      "maxDuration": 300,
      "memory": 1024
    }
  },
  "rewrites": [
    {
      "source": "/health",
      "destination": "/api/index.py"
    },
    {
      "source": "/search",
      "destination": "/api/index.py"
    },
    {
      "source": "/mcp/stream",
      "destination": "/api/index.py"
    },
    {
      "source": "/metrics",
      "destination": "/api/index.py"
    },
    {
      "source": "/(.*)",
      "destination": "/api/index.py"
    }
  ],
  "env": {
    "DEPLOY_TARGET": "vercel",
    "DB_BACKEND": "supabase"
  },
  "build": {
    "env": {
      "SUPABASE_DB_URL": "@SUPABASE_DB_URL",
      "OPENAI_API_KEY": "@OPENAI_API_KEY",
      "READWISE_TOKEN": "@READWISE_TOKEN"
    }
  },
  "regions": ["iad1"],
  "trailingSlash": false
}
